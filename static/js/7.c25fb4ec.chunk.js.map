{"version":3,"sources":["pictures/user.png","common/Paginator/Paginator.module.css","components/Users/users.module.css","redux/users-selectors.tsx","common/Paginator/PaginatorDemo.jsx","components/Users/User.tsx","components/Users/UsersSearchForm.tsx","components/Users/UsersType.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","getUsers","createSelector","state","usersPage","users","filter","u","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingProgress","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","onClick","p","map","cn","selectedPage","pageNumber","key","e","User","props","user","unfollow","follow","to","id","src","photos","small","userPhoto","followed","disabled","some","name","status","UsersSearchFormVAlidate","values","UsersSearchForm","React","memo","initialValues","term","friend","validate","onSubmit","setSubmitting","onFilterChange","isSubmitting","type","as","placeholder","value","Users","UsersContainer","this","Preloader","Component","compose","connect","requestUsers"],"mappings":"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","file":"static/js/7.c25fb4ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.8b1dbb1f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3BvlS\",\"pageNumber\":\"Paginator_pageNumber__3mez1\",\"selectedPage\":\"Paginator_selectedPage__3YkOo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__3f2Xe\",\"UsersMainBlock\":\"users_UsersMainBlock__1zIub\"};","import {createSelector} from \"reselect\";\r\nimport { userType } from \"../types/types\";\r\nimport { AppReducersType } from \"./redux-store\";\r\n\r\n\r\n\r\nconst getUsersSelector = (state: AppReducersType) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n    return users.filter(u => true);\r\n})\r\n\r\nexport const getPageSize = (state: AppReducersType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppReducersType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: AppReducersType) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: AppReducersType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state: AppReducersType) => {\r\n    return state.usersPage.followingProgress;\r\n}\r\n\r\nexport const countSomethingDifficult = (state: AppReducersType) => {\r\n    debugger\r\n    //for... math... big arrays\r\n    let count = 23;\r\n    return count;\r\n}","import React, {useState} from 'react';\r\nimport styles from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator;","import React, { Props } from 'react';\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../pictures/user.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { userType } from '../../types/types';\r\n\r\ntype PropsType = {\r\n    user: userType\r\n    followingProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = (props) => {\r\n    let { user, followingProgress, unfollow, follow } = props\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={styles.userPhoto} />\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed \r\n                        ? <button disabled={followingProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => { unfollow(user.id) }}>\r\n                            Unfollow</button>\r\n                        : <button disabled={followingProgress\r\n                            .some(id => id === user.id)}\r\n                            onClick={() => { follow(user.id) }}>\r\n                            Follow</button>}\r\n\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>)\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport { FilterType } from '../../redux/usersReducer';\r\n\r\ntype ValidateType = {\r\n    values: any\r\n    email: string\r\n}\r\n\r\nconst UsersSearchFormVAlidate = (values: any) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\n\r\n\r\ntype PropsType = {\r\n    onFilterChange: (filter: FilterType) => void\r\n}\r\ntype FormData = {\r\n    term: string\r\n    friend: 'null' | 'true' | 'false'\r\n}\r\nconst UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n    const submit = (values: FormData, { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n    \r\n        }\r\n        props.onFilterChange(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return <div>\r\n        <Formik\r\n            initialValues={{ term: '', friend: 'null' }}\r\n            validate={UsersSearchFormVAlidate}\r\n            onSubmit={submit}>\r\n            {({ isSubmitting }) => (\r\n                <Form>\r\n                    <Field type=\"text\" name=\"term\" />\r\n                    <Field name=\"friend\" as=\"select\" placeholder=\"Favorite Color\">\r\n                        <option value=\"null\">All</option>\r\n                        <option value=\"true\">Only followed</option>\r\n                        <option value=\"false\">Only unfollowed</option>\r\n                    </Field>\r\n                    <button type=\"submit\" disabled={isSubmitting}>\r\n                        find\r\n                    </button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    </div>\r\n});\r\n\r\nexport default UsersSearchForm;","import React from 'react';\r\nimport Paginator from \"../../common/Paginator/PaginatorDemo\";\r\nimport User from \"./User\";\r\nimport { userType } from '../../types/types';\r\nimport { FilterType } from '../../redux/usersReducer';\r\nimport UsersSearchForm from './UsersSearchForm'\r\ntype PropsType = {\r\n    currentPage: number,\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    onPageChanged: (pageNumber: number) => void,\r\n    users: Array<userType>,\r\n    followingProgress: Array<number>,\r\n    unfollow: (userId: number) => void,\r\n    onFilterChange: (filter: FilterType) => void\r\n    follow: (userId: number) => void\r\n}\r\nlet Users: React.FC<PropsType> = ({ currentPage, totalUsersCount, pageSize, onFilterChange, onPageChanged, users, ...props }) => {\r\n    return <div>\r\n        <UsersSearchForm onFilterChange={onFilterChange} />\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n            totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                    followingProgress={props.followingProgress}\r\n                    key={u.id}\r\n                    unfollow={props.unfollow}\r\n                    follow={props.follow}\r\n                />\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import React from 'react'\r\nimport Preloader from '../../common/Preloader';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors';\r\nimport { compose } from 'redux';\r\n\r\nimport { requestUsers, follow, unfollow, FilterType } from '../../redux/usersReducer';\r\nimport Users from './UsersType';\r\nimport { userType } from '../../types/types';\r\nimport { AppReducersType } from '../../redux/redux-store';\r\nimport { connect } from 'react-redux';\r\n\r\ntype MapStatePropsType = {\r\n    users: Array<userType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: Array<number>\r\n    filter: FilterType\r\n}\r\ntype MapDispatchPropsType = {\r\n    getUsers: (currentPage: number, pageSize: number, filter: FilterType) => void\r\n    unfollow: (userId: number) => void,\r\n    follow: (userId: number) => void\r\n}\r\ntype OwnToProps = {\r\n\r\n}\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\nclass UsersContainer extends React.Component<PropsType> {\r\n    componentDidMount() {\r\n        const { currentPage, pageSize, filter } = this.props\r\n        this.props.getUsers(currentPage, pageSize, filter)\r\n    }\r\n    onPageChanged = (pageNumber: number) => {\r\n        const { pageSize, filter } = this.props;\r\n        this.props.getUsers(pageNumber, pageSize, filter)\r\n    }\r\n    onFilterChange = (filter: FilterType) => {\r\n        const { pageSize } = this.props\r\n        this.props.getUsers(1, pageSize, filter)\r\n    }\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                onFilterChange={this.onFilterChange}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingProgress={this.props.followingProgress} />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppReducersType): MapStatePropsType => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProgress: getFollowingInProgress(state),\r\n        filter: state.usersPage.filter\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect<MapStatePropsType, MapDispatchPropsType, OwnToProps, AppReducersType>(mapStateToProps, { follow, unfollow, getUsers: requestUsers })\r\n)(UsersContainer)"],"sourceRoot":""}